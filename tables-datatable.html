    <!DOCTYPE html>
<html>
    <head>
        <!-- #include file="includes_header.html" -->

        <!-- DataTables -->
        <link href="assets/plugins/datatables/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/plugins/datatables/buttons.bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/plugins/datatables/fixedHeader.bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/plugins/datatables/responsive.bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/plugins/datatables/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/datatables/scroller.bootstrap.min.css" rel="stylesheet" type="text/css" />
    </head>


    <body class="fixed-left">

        <!-- Begin page -->
        <div id="wrapper">

            <!-- #include file="header.html" -->

            <!-- Start right Content here -->

            <div class="content-page">
                <!-- Start content -->
                <div class="content">

                    <div class="">
                        <div class="page-header-title">
                            <h4 class="page-title">Equipos</h4>
                        </div>
                    </div>
                    <div class="page-content-wrapper ">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6 col-lg-6">
                                    <div class="panel text-center">
                                        <div class="panel-heading">
                                            <div class="text-center">
                                                <h4 class="panel-title text-muted font-light">WMI Updates</h4>
                                                <div style="display:inline;width:200px;height:200px;">
                                                    <input id="wmi" class="knob" data-width="200" data-min="0" data-fgcolor="#04a2b3" data-bgcolor="#475565" data-displayprevious="false" data-readOnly="true" value="0" style="width: 79px; height: 50px; position: absolute; vertical-align: middle; margin-top: 50px; margin-left: -114px; border: 0px; background: none; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 30px; line-height: normal; font-family: Arial; text-align: center; color: rgb(4, 162, 179); padding: 0px; -webkit-appearance: none;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-6">
                                    <div class="panel text-center">
                                        <div class="panel-heading">
                                            <div class="text-center">
                                                <h4 class="panel-title text-muted font-light">AV Escaneos</h4>
                                                <div style="display:inline;width:200px;height:200px;">
                                                    <input id="av" class="knob" data-width="200" data-min="0" data-fgcolor="#90EE90" data-bgcolor="#475565" data-displayprevious="false" data-readOnly="true" value="0" style="width: 79px; height: 50px; position: absolute; vertical-align: middle; margin-top: 50px; margin-left: -114px; border: 0px; background: none; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 30px; line-height: normal; font-family: Arial; text-align: center; color: lightgreen; padding: 0px; -webkit-appearance: none;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--
                                <div class="col-sm-6 col-lg-4">
                                    <div class="panel text-center">
                                        <div class="panel-heading">
                                            <div class="text-center">
                                                <h4 class="panel-title text-muted font-light">AV Escaneos</h4>
                                                <div style="display:inline;width:200px;height:200px;">
                                                    <input id="av" class="knob" data-width="200" data-min="0" data-fgcolor="#04a2b3" data-bgcolor="#475565" data-displayprevious="false" data-readOnly="true" value="0" style="width: 79px; height: 50px; position: absolute; vertical-align: middle; margin-top: 50px; margin-left: -114px; border: 0px; background: none; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 30px; line-height: normal; font-family: Arial; text-align: center; color: rgb(4, 162, 179); padding: 0px; -webkit-appearance: none;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                -->
                            </div>

                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-primary">
                                        <div class="panel-body">
                                            <h4 class="m-b-30 m-t-0">Descargar Tabla</h4>
                                            <table id="datatable-buttons" class="table table-striped table-bordered display">
                                                <thead>
                                                <tr>
                                                    <th>Encargado</th>
                                                    <th>Usuario</th>
                                                    <th>SistemaOperativo</th>
                                                    <th>Procesador</th>
                                                    <th>Nucleos</th>
                                                    <th>RAM</th>
                                                    <th>IP</th>
                                                </tr>
                                                </thead>

                                                <tbody></tbody>
                                            </table>    
                                        </div>
                                    </div>
                                </div>
                            </div> <!-- End Row -->

                        </div><!-- container -->

                    </div> <!-- Page content Wrapper -->

                </div> <!-- content -->

                <footer class="footer">
                    2018 - Juguel Uniformes
                </footer>

            </div>
            <!-- End Right content here -->

        </div>
        <!-- END wrapper -->


        <!-- jQuery  -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/modernizr.min.js"></script>
        <script src="assets/js/detect.js"></script>
        <script src="assets/js/fastclick.js"></script>
        <script src="assets/js/jquery.slimscroll.js"></script>
        <script src="assets/js/jquery.blockUI.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/jquery.nicescroll.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>

        <!-- Datatables-->
        <script src="assets/plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.bootstrap.js"></script>
        <script src="assets/plugins/datatables/dataTables.buttons.min.js"></script>
        <script src="assets/plugins/datatables/buttons.bootstrap.min.js"></script>
        <script src="assets/plugins/datatables/jszip.min.js"></script>
        <script src="assets/plugins/datatables/pdfmake.min.js"></script>
        <script src="assets/plugins/datatables/vfs_fonts.js"></script>
        <script src="assets/plugins/datatables/buttons.html5.min.js"></script>
        <script src="assets/plugins/datatables/buttons.print.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.fixedHeader.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.keyTable.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.responsive.min.js"></script>
        <script src="assets/plugins/datatables/responsive.bootstrap.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.scroller.min.js"></script>

        <!-- Datatable init js -->
        <script src="assets/pages/datatables.init.js"></script>

        <!-- KNOB JS -->
        <script src="assets/plugins/jquery-knob/excanvas.js"></script>
        <script src="assets/plugins/jquery-knob/jquery.knob.js"></script>

        <script>
            $(function() {
                $(".knob").knob();
            });
        </script>


        <script src="assets/js/app.js"></script>

        <script type="text/javascript">
            var Equipos = Parse.Object.extend("Equipos");
            var query = new Parse.Query(Equipos);
            var countEquipos = -1;
            query.find({
              success: function(results) {
                // Proyectos
                countEquipos = results.length;
                var claseEquipos = Parse.Object.extend("Equipos");
                var query = new Parse.Query(claseEquipos);
                var fecha = new Date();
                fecha.setDate(fecha.getDate()-1);
                query.greaterThan("UltimaActualizacion", fecha);
                query.count({
                    success: function(count) {
                      $("#wmi").val(Math.round(count/countEquipos*100)).trigger('change');
                    },
                    error: function(error) {
                      alert("Error: " + error.code + " " + error.message);
                    }
                });

                /*
                query = new Parse.Query(claseEquipos);
                fecha = new Date();
                fecha.setDate(fecha.getDate()-7);
                //alert("Buscando fechas despues de: " + fecha.toDateString());
                query.greaterThan("UltimoEscaneo", fecha);
                query.count({
                    success: function(count) {
                      //alert(Math.round(count/countEquipos*100) + "%");
                      $("#wmi").val(Math.round(count/countEquipos*100) + "%").trigger('change');
                    },
                    error: function(error) {
                      alert("Error: " + error.code + " " + error.message);
                    }
                });
                //*/

                /*
                query = new Parse.Query(claseEquipos);
                fecha = new Date();
                fecha.setDate(fecha.getDate()-7);
                //alert("Buscando fechas despues de: " + fecha.toDateString());
                query.greaterThan("UltimoEscaneo", fecha);
                query.count({
                    success: function(count) {
                      //alert(Math.round(count/countEquipos*100) + "%");
                      $("#wmi").val(Math.round(count/countEquipos*100) + "%").trigger('change');
                    },
                    error: function(error) {
                      alert("Error: " + error.code + " " + error.message);
                    }
                });
                //*/


                //Llena tabla de Equipos
                var table = $('#datatable-buttons').DataTable();
                for (var i = 0; i < results.length; i++) {
                    var object = results[i];                    
                    var data = [];
                    data.push(object.get("Encargado") == null? "-" : String(object.get("Encargado")));
                    data.push(object.get("NombreDeRed") == null? "-" : String(object.get("NombreDeRed")));
                    data.push(object.get("SistemaOperativo") == null? "-" : String(object.get("SistemaOperativo")));
                    data.push(object.get("Procesador") == null? "-" : String(object.get("Procesador")));
                    data.push(object.get("Nucleos") == null? "-" : String(object.get("Nucleos")));
                    data.push(object.get("RAM") == null? "-" : String(object.get("RAM")));
                    data.push(object.get("IPs") == null? "-" : String(object.get("IPs")));
                    table.row.add(data).draw();
                }

              },
              error: function(error) {
                alert("Error: " + error.code + " " + error.message);
              }
            });

            
            /*
            //Proyectos Prog
            var Totales = Parse.Object.extend("Proyectos");
            var query = new Parse.Query(Totales);
            query.equalTo("Terminado", false);
            query.count({
            success: function(count) {
                  $('#Proyectos-Prog').text(count);
                }
            });

            //Proyectos Terminados
            var Totales = Parse.Object.extend("Proyectos");
            var query = new Parse.Query(Totales);
            query.equalTo("Terminado", true);
            query.count({
            success: function(count) {
                  $('#Proyectos-Terminados').text(count);
                }
            });
            //*/
        </script>
    </body>
</html>